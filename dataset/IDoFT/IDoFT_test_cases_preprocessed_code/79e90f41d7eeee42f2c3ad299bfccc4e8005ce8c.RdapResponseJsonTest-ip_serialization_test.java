@Test public void ip_serialization_test() throws Exception {
assertThat(marshal(ip),equalTo("" + "{\n" + "  \"handle\" : \"XXXX-RIR\",\n"+ "  \"startAddress\" : \"2001:db8::0\",\n"+ "  \"endAddress\" : \"2001:db8::0:FFFF:FFFF:FFFF:FFFF:FFFF\",\n"+ "  \"ipVersion\" : \"v6\",\n"+ "  \"name\" : \"NET-RTR-1\",\n"+ "  \"type\" : \"DIRECT ALLOCATION\",\n"+ "  \"country\" : \"AU\",\n"+ "  \"parentHandle\" : \"YYYY-RIR\",\n"+ "  \"status\" : [ \"allocated\" ],\n"+ "  \"entities\" : [ {\n"+ "    \"handle\" : \"XXXX\",\n"+ "    \"vcardArray\" : [ \"vcard\", [ "+ "[ \"version\", { }, \"text\", \"4.0\" ], "+ "[ \"fn\", { }, \"text\", \"Joe User\" ], "+ "[ \"kind\", { }, \"text\", \"individual\" ], "+ "[ \"org\", { }, \"text\", \"Example\" ], "+ "[ \"title\", { }, \"text\", \"Research Scientist\" ], "+ "[ \"role\", { }, \"text\", \"Project Lead\" ], "+ "[ \"adr\", { }, \"text\", [ \"\", \"Suite 1234\", \"4321 Rue Somewhere\", \"Quebec\", \"QC\", \"G1V 2M2\", \"Canada\" ] ], "+ "[ \"tel\", { }, \"uri\", \"tel:+1-555-555-1234;ext=102\" ], "+ "[ \"email\", { }, \"text\", \"joe.user@example.com\" ] ] ],\n"+ "    \"roles\" : [ \"registrant\" ],\n"+ "    \"remarks\" : [ {\n"+ "      \"description\" : [ \"She sells sea shells down by the sea shore.\", \"Originally written by Terry Sullivan.\" ]\n"+ "    } ],\n"+ "    \"links\" : [ {\n"+ "      \"value\" : \"http://example.net/entity/xxxx\",\n"+ "      \"rel\" : \"self\",\n"+ "      \"href\" : \"http://example.net/entity/xxxx\"\n"+ "    } ],\n"+ "    \"events\" : [ {\n"+ "      \"eventAction\" : \"registration\",\n"+ "      \"eventDate\" : \"" + DATE_TIME + "\"\n"+ "    }, {\n"+ "      \"eventAction\" : \"last changed\",\n"+ "      \"eventDate\" : \""+ DATE_TIME+ "\",\n"+ "      \"eventActor\" : \"joe@example.com\"\n"+ "    } ],\n"+ "    \"objectClassName\" : \"entity\"\n"+ "  } ],\n"+ "  \"remarks\" : [ {\n"+ "    \"description\" : [ \"She sells sea shells down by the sea shore.\", \"Originally written by Terry Sullivan.\" ]\n"+ "  } ],\n"+ "  \"links\" : [ {\n"+ "    \"value\" : \"http://example.net/ip/2001:db8::/48\",\n"+ "    \"rel\" : \"self\",\n"+ "    \"href\" : \"http://example.net/ip/2001:db8::/48\"\n"+ "  }, {\n"+ "    \"value\" : \"http://example.net/ip/2001:db8::/48\",\n"+ "    \"rel\" : \"up\",\n"+ "    \"href\" : \"http://example.net/ip/2001:C00::/23\"\n"+ "  } ],\n"+ "  \"events\" : [ {\n"+ "    \"eventAction\" : \"registration\",\n"+ "    \"eventDate\" : \""+ DATE_TIME+ "\"\n"+ "  }, {\n"+ "    \"eventAction\" : \"last changed\",\n"+ "    \"eventDate\" : \""+ DATE_TIME+ "\",\n"+ "    \"eventActor\" : \"joe@example.com\"\n"+ "  } ],\n"+ "  \"objectClassName\" : \"ip network\"\n"+ "}"));
}