@Test public void TestCallbackMultiInstans() throws Exception {
demoProxy.xxx2(callback);//IT
Assert.assertEquals(1,demoProxy.getCallbackCount());//IT
Thread.sleep(500);
demoProxy.unxxx2(callback);//IT
Assert.assertEquals(0,demoProxy.getCallbackCount());//IT
demoProxy.xxx2(callback2);//IT
Assert.assertEquals(1,demoProxy.getCallbackCount());//IT
Thread.sleep(500);
demoProxy.unxxx2(callback2);//IT
Assert.assertEquals(0,demoProxy.getCallbackCount());//IT
demoProxy.xxx2(callback);//IT
Thread.sleep(500);
Assert.assertEquals(1,demoProxy.getCallbackCount());//IT
demoProxy.unxxx2(callback);//IT
Assert.assertEquals(0,demoProxy.getCallbackCount());//IT
demoProxy.xxx2(callback);//IT
Assert.assertEquals(1,demoProxy.getCallbackCount());//IT
demoProxy.xxx2(callback);//IT
Assert.assertEquals(1,demoProxy.getCallbackCount());//IT
demoProxy.xxx2(callback2);//IT
Assert.assertEquals(2,demoProxy.getCallbackCount());//IT
}