@Deployment(resources={"org/activiti/engine/test/api/oneSubProcess.bpmn20.xml"}) public void testRemoveVariablesLocalWithParentScope(){
assertEquals("value3",runtimeService.getVariable(currentTask.getExecutionId(),"variable3"));
assertEquals("value3",runtimeService.getVariableLocal(currentTask.getExecutionId(),"variable3"));
assertEquals("value4",runtimeService.getVariable(currentTask.getExecutionId(),"variable4"));
assertEquals("value4",runtimeService.getVariableLocal(currentTask.getExecutionId(),"variable4"));
assertEquals("value5",runtimeService.getVariable(currentTask.getExecutionId(),"variable5"));
assertEquals("value5",runtimeService.getVariableLocal(currentTask.getExecutionId(),"variable5"));
assertEquals("value6",runtimeService.getVariable(currentTask.getExecutionId(),"variable6"));
assertEquals("value6",runtimeService.getVariableLocal(currentTask.getExecutionId(),"variable6"));
assertEquals("value1",runtimeService.getVariable(currentTask.getExecutionId(),"variable1"));
assertEquals("value2",runtimeService.getVariable(currentTask.getExecutionId(),"variable2"));
assertNull(runtimeService.getVariable(currentTask.getExecutionId(),"variable3"));
assertNull(runtimeService.getVariableLocal(currentTask.getExecutionId(),"variable3"));
assertNull(runtimeService.getVariable(currentTask.getExecutionId(),"variable4"));
assertNull(runtimeService.getVariableLocal(currentTask.getExecutionId(),"variable4"));
assertNull(runtimeService.getVariable(currentTask.getExecutionId(),"variable5"));
assertNull(runtimeService.getVariableLocal(currentTask.getExecutionId(),"variable5"));
assertEquals("value6",runtimeService.getVariable(currentTask.getExecutionId(),"variable6"));
assertEquals("value6",runtimeService.getVariableLocal(currentTask.getExecutionId(),"variable6"));
}