@Deployment public void testOrQuery(){
if (processEngineConfiguration.getHistoryLevel().isAtLeast(HistoryLevel.ACTIVITY)) {
assertEquals(2,variableMap.size());
assertEquals(0,task.getProcessVariables().size());
assertNotNull(variableMap.get("testVar"));
assertEquals("someVariable",variableMap.get("testVar"));
assertNotNull(variableMap.get("testVar2"));
assertEquals(123,variableMap.get("testVar2"));
assertEquals(3,tasks.size());
assertEquals(0,task.getProcessVariables().size());
assertEquals(0,task.getTaskLocalVariables().size());
assertEquals(1,task.getProcessVariables().size());
assertEquals(0,task.getTaskLocalVariables().size());
assertTrue((Boolean)task.getProcessVariables().get("processVar"));
assertNotNull(task);
assertEquals(1,task.getProcessVariables().size());
assertEquals(0,task.getTaskLocalVariables().size());
assertTrue((Boolean)task.getProcessVariables().get("processVar"));
assertEquals(0,task.getProcessVariables().size());
assertEquals(1,task.getTaskLocalVariables().size());
assertEquals("test",task.getTaskLocalVariables().get("localVar"));
assertEquals(2,task.getProcessVariables().size());
assertEquals(0,task.getTaskLocalVariables().size());
assertEquals(true,task.getProcessVariables().get("processVar"));
assertEquals(123,task.getProcessVariables().get("anotherProcessVar"));
assertEquals(2,task.getTaskLocalVariables().size());
assertEquals(0,task.getProcessVariables().size());
assertEquals("someVariable",task.getTaskLocalVariables().get("testVar"));
assertEquals(123,task.getTaskLocalVariables().get("testVar2"));
assertEquals(2,task.getTaskLocalVariables().size());
assertEquals(0,task.getProcessVariables().size());
assertEquals("someVariable",task.getTaskLocalVariables().get("testVar"));
assertEquals(123,task.getTaskLocalVariables().get("testVar2"));
assertNull(task);
assertEquals(3,tasks.size());
assertEquals(1,tasks.get(0).getTaskLocalVariables().size());
assertEquals("test",tasks.get(0).getTaskLocalVariables().get("test"));
assertEquals(0,tasks.get(0).getProcessVariables().size());
assertEquals(3,tasks.size());
assertEquals(0,tasks.get(0).getProcessVariables().size());
assertEquals(0,tasks.get(0).getTaskLocalVariables().size());
assertEquals(0,task.getProcessVariables().size());
assertEquals(1,task.getTaskLocalVariables().size());
assertEquals("test",task.getTaskLocalVariables().get("localVar"));
assertEquals(2,task.getProcessVariables().size());
assertEquals(0,task.getTaskLocalVariables().size());
assertEquals(true,task.getProcessVariables().get("processVar"));
assertEquals(123,task.getProcessVariables().get("anotherProcessVar"));
assertEquals(2,task.getProcessVariables().size());
assertEquals(1,task.getTaskLocalVariables().size());
assertEquals("test",task.getTaskLocalVariables().get("localVar"));
assertEquals(true,task.getProcessVariables().get("processVar"));
assertEquals(123,task.getProcessVariables().get("anotherProcessVar"));
assertEquals(2,variableMap.size());
assertEquals(0,task.getProcessVariables().size());
assertNotNull(variableMap.get("testVar"));
assertEquals("someVariable",variableMap.get("testVar"));
assertNotNull(variableMap.get("testVar2"));
assertEquals(123,variableMap.get("testVar2"));
}
}